<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sistema de Monitoramento de Consumo de Energia: Src/main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sistema de Monitoramento de Consumo de Energia
   &#160;<span id="projectnumber">v1.0</span>
   </div>
   <div id="projectbrief">Aquisição de tensão e corrente (não-intrusivo) de uma rede doméstica para monitoramento de consumo de energia com suporte para expansão para desagregação de carga</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('main_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Aplicação: Sistema de Monitoramento de Consumo de Energia.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="main_8h_source.html">main.h</a>&quot;</code><br />
<code>#include &quot;stm32f4xx_hal.h&quot;</code><br />
<code>#include &quot;<a class="el" href="adc_8h_source.html">adc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="dma_8h_source.html">dma.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="tim_8h_source.html">tim.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="usart_8h_source.html">usart.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="gpio_8h_source.html">gpio.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="defines_8h_source.html">defines.h</a>&quot;</code><br />
<code>#include &quot;arm_math.h&quot;</code><br />
<code>#include &quot;<a class="el" href="dizimacao_8h_source.html">dizimacao.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="adc__util_8h_source.html">adc_util.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="equipamentos_8h_source.html">equipamentos.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="calculos__eletricos_8h_source.html">calculos_eletricos.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="usart__util_8h_source.html">usart_util.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a2aab568cd1f02e7cd9fd6c7f87e361d1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a> { <br />
&#160;&#160;<a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1a13d000b4d7dc70d90239b7430d1eb6b2">START</a>, 
<a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1a26471c0ef19d79479a64f916eb17ad9f">AQUISICAO</a>, 
<a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1a261127ba09281c607786e67a04b7e0cc">PROCESSAMENTO</a>, 
<a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1af3a953a997c16620b4af0772c3de8c6b">RMS_CORRENTE</a>, 
<br />
&#160;&#160;<a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1a87ad97377c11adaf044d21418c6cd5fc">CALCULOS</a>, 
<a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1a826f7fa03272bd9a96356f099b8904dc">DELTA</a>, 
<a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1a001479a58fb44c39a29b20d565081a68">ID</a>, 
<a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1ac506d7b7d4682bc09f08a0ecda640d09">ENVIAR</a>
<br />
 }<tr class="memdesc:a2aab568cd1f02e7cd9fd6c7f87e361d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estados da máquina de estados da aplicação.  <a href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:a2aab568cd1f02e7cd9fd6c7f87e361d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a70af21c671abfcc773614a9a4f63d920"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a70af21c671abfcc773614a9a4f63d920">SystemClock_Config</a> (void)</td></tr>
<tr class="memdesc:a70af21c671abfcc773614a9a4f63d920"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configuração de clock.  <a href="#a70af21c671abfcc773614a9a4f63d920">More...</a><br /></td></tr>
<tr class="separator:a70af21c671abfcc773614a9a4f63d920"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1730ffe1e560465665eb47d9264826f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a1730ffe1e560465665eb47d9264826f9">Error_Handler</a> (void)</td></tr>
<tr class="memdesc:a1730ffe1e560465665eb47d9264826f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is executed in case of error occurrence.  <a href="#a1730ffe1e560465665eb47d9264826f9">More...</a><br /></td></tr>
<tr class="separator:a1730ffe1e560465665eb47d9264826f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85a123185c9bcad9229b17b05c5065e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a85a123185c9bcad9229b17b05c5065e6">HAL_ADC_ConvCpltCallback</a> (ADC_HandleTypeDef *)</td></tr>
<tr class="memdesc:a85a123185c9bcad9229b17b05c5065e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback da interrupção de transferência completa da DMA.  <a href="#a85a123185c9bcad9229b17b05c5065e6">More...</a><br /></td></tr>
<tr class="separator:a85a123185c9bcad9229b17b05c5065e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd49835b7027f3f82cd428ab1a2ee68"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a3dd49835b7027f3f82cd428ab1a2ee68">HAL_ADC_ConvHalfCpltCallback</a> (ADC_HandleTypeDef *)</td></tr>
<tr class="memdesc:a3dd49835b7027f3f82cd428ab1a2ee68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback da interrupção de transferência na metade da DMA.  <a href="#a3dd49835b7027f3f82cd428ab1a2ee68">More...</a><br /></td></tr>
<tr class="separator:a3dd49835b7027f3f82cd428ab1a2ee68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:a840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main da aplicação.  <a href="#a840291bc02cba5474a4cb46a9b9566fe">More...</a><br /></td></tr>
<tr class="separator:a840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:afa51f70dca16f13f73bfb053d1d713ac"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#afa51f70dca16f13f73bfb053d1d713ac">estado</a> = <a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1a13d000b4d7dc70d90239b7430d1eb6b2">START</a></td></tr>
<tr class="separator:afa51f70dca16f13f73bfb053d1d713ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad97705844552c36fbf67ba9e1151326e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_medicao.html">Medicao</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ad97705844552c36fbf67ba9e1151326e">memoria</a> [<a class="el" href="defines_8h.html#a2dcf8c45f945dd0c4301a94700f2112c">MEM_SIZE</a>]</td></tr>
<tr class="memdesc:ad97705844552c36fbf67ba9e1151326e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Vetor de <a class="el" href="struct_medicao.html" title="Estrutura armazenada na memória com histórico de medições e equipamentos. ">Medicao</a> . Contém histórico de medições.  <a href="#ad97705844552c36fbf67ba9e1151326e">More...</a><br /></td></tr>
<tr class="separator:ad97705844552c36fbf67ba9e1151326e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1044ab438ad66f501a4113c988ac8916"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a1044ab438ad66f501a4113c988ac8916">memoria_index</a> = 0</td></tr>
<tr class="memdesc:a1044ab438ad66f501a4113c988ac8916"><td class="mdescLeft">&#160;</td><td class="mdescRight">Índice do histórico de medições.  <a href="#a1044ab438ad66f501a4113c988ac8916">More...</a><br /></td></tr>
<tr class="separator:a1044ab438ad66f501a4113c988ac8916"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14822268639036ebb7b3297a2838c827"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct_equipamento.html">Equipamento</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a14822268639036ebb7b3297a2838c827">BaseDados</a> [<a class="el" href="defines_8h.html#ae4b347db921cb574228cda0f65b38c1e">EQUIP_ARRAY_MAX</a>]</td></tr>
<tr class="memdesc:a14822268639036ebb7b3297a2838c827"><td class="mdescLeft">&#160;</td><td class="mdescRight">Base de dados de <a class="el" href="struct_equipamento.html" title="Estrutura da base de dados de equipamentos. ">Equipamento</a> .  <a href="#a14822268639036ebb7b3297a2838c827">More...</a><br /></td></tr>
<tr class="separator:a14822268639036ebb7b3297a2838c827"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0bd3693d278e0e91c91c9deab7decde"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae0bd3693d278e0e91c91c9deab7decde">buffer_tensao_DMA</a> [2 *<a class="el" href="defines_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td></tr>
<tr class="memdesc:ae0bd3693d278e0e91c91c9deab7decde"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer circular de leitura de tensão. Interrupções ocorrem quando está na metade ou cheio.  <a href="#ae0bd3693d278e0e91c91c9deab7decde">More...</a><br /></td></tr>
<tr class="separator:ae0bd3693d278e0e91c91c9deab7decde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c536f645de376969e65e1a4cc348af"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a66c536f645de376969e65e1a4cc348af">buffer_corrente_DMA</a> [2 *<a class="el" href="defines_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td></tr>
<tr class="memdesc:a66c536f645de376969e65e1a4cc348af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer circular de leitura de corrente. Interrupções ocorrem quando está na metade ou cheio.  <a href="#a66c536f645de376969e65e1a4cc348af">More...</a><br /></td></tr>
<tr class="separator:a66c536f645de376969e65e1a4cc348af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2d123d5161b69d188891e189cb0d06"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a3f2d123d5161b69d188891e189cb0d06">buffer_tensao_leitura</a> [<a class="el" href="defines_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td></tr>
<tr class="memdesc:a3f2d123d5161b69d188891e189cb0d06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer auxiliar de leitura de tensão.  <a href="#a3f2d123d5161b69d188891e189cb0d06">More...</a><br /></td></tr>
<tr class="separator:a3f2d123d5161b69d188891e189cb0d06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b2be33f9da9351cb2057d68de153fe"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ab3b2be33f9da9351cb2057d68de153fe">buffer_corrente_leitura</a> [<a class="el" href="defines_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td></tr>
<tr class="memdesc:ab3b2be33f9da9351cb2057d68de153fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer auxiliar de leitura de corrente.  <a href="#ab3b2be33f9da9351cb2057d68de153fe">More...</a><br /></td></tr>
<tr class="separator:ab3b2be33f9da9351cb2057d68de153fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae795108dc18e86ae6c35880d0d2129f2"><td class="memItemLeft" align="right" valign="top">float32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae795108dc18e86ae6c35880d0d2129f2">buffer_corrente_float</a> [<a class="el" href="defines_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td></tr>
<tr class="memdesc:ae795108dc18e86ae6c35880d0d2129f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer auxiliar de leitura de tensão em ponto flutuante.  <a href="#ae795108dc18e86ae6c35880d0d2129f2">More...</a><br /></td></tr>
<tr class="separator:ae795108dc18e86ae6c35880d0d2129f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea416c949294bb0aaaaa1de31a9d282b"><td class="memItemLeft" align="right" valign="top">float32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#aea416c949294bb0aaaaa1de31a9d282b">buffer_tensao_float</a> [<a class="el" href="defines_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td></tr>
<tr class="memdesc:aea416c949294bb0aaaaa1de31a9d282b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer auxiliar de leitura de corrente em ponto flutuante.  <a href="#aea416c949294bb0aaaaa1de31a9d282b">More...</a><br /></td></tr>
<tr class="separator:aea416c949294bb0aaaaa1de31a9d282b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8bc44ca7285cfaeb25ac6db810fff76"><td class="memItemLeft" align="right" valign="top">float32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae8bc44ca7285cfaeb25ac6db810fff76">buffer_tensao_diz</a> [<a class="el" href="defines_8h.html#a2b573f009cb2ef893aa1c52f267a9f92">BUFFER_DIZ</a>]</td></tr>
<tr class="memdesc:ae8bc44ca7285cfaeb25ac6db810fff76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer auxiliar de leitura de tensão em ponto flutuante dizimado.  <a href="#ae8bc44ca7285cfaeb25ac6db810fff76">More...</a><br /></td></tr>
<tr class="separator:ae8bc44ca7285cfaeb25ac6db810fff76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1100bf93727b22ddec8a73783fc192b"><td class="memItemLeft" align="right" valign="top">float32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ac1100bf93727b22ddec8a73783fc192b">buffer_corrente_diz</a> [<a class="el" href="defines_8h.html#a2b573f009cb2ef893aa1c52f267a9f92">BUFFER_DIZ</a>]</td></tr>
<tr class="memdesc:ac1100bf93727b22ddec8a73783fc192b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Buffer auxiliar de leitura de corrente em ponto flutuante dizimado.  <a href="#ac1100bf93727b22ddec8a73783fc192b">More...</a><br /></td></tr>
<tr class="separator:ac1100bf93727b22ddec8a73783fc192b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86988a65e0d3ece7990c032c159786d6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a86988a65e0d3ece7990c032c159786d6">count</a> = 0</td></tr>
<tr class="memdesc:a86988a65e0d3ece7990c032c159786d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variável de testes.  <a href="#a86988a65e0d3ece7990c032c159786d6">More...</a><br /></td></tr>
<tr class="separator:a86988a65e0d3ece7990c032c159786d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a450ef58d7aeb2236ace692f890f847f3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a450ef58d7aeb2236ace692f890f847f3">tic</a></td></tr>
<tr class="memdesc:a450ef58d7aeb2236ace692f890f847f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variável de testes.  <a href="#a450ef58d7aeb2236ace692f890f847f3">More...</a><br /></td></tr>
<tr class="separator:a450ef58d7aeb2236ace692f890f847f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56bc1c9e6afacc7063d43b5d9954a24e"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a56bc1c9e6afacc7063d43b5d9954a24e">toc</a></td></tr>
<tr class="separator:a56bc1c9e6afacc7063d43b5d9954a24e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fce74aa11ad6edf39692f7802424198"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a4fce74aa11ad6edf39692f7802424198">flag_buffercheio</a> = 0</td></tr>
<tr class="memdesc:a4fce74aa11ad6edf39692f7802424198"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag de controle. Ativada quando ocorre interrupção de buffer cheio.  <a href="#a4fce74aa11ad6edf39692f7802424198">More...</a><br /></td></tr>
<tr class="separator:a4fce74aa11ad6edf39692f7802424198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcedb4e1ad038e13b46797c291321b99"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#afcedb4e1ad038e13b46797c291321b99">flag_buffermetade</a> = 0</td></tr>
<tr class="memdesc:afcedb4e1ad038e13b46797c291321b99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag de controle. Ativada quando ocorre interrupção de buffer na metade.  <a href="#afcedb4e1ad038e13b46797c291321b99">More...</a><br /></td></tr>
<tr class="separator:afcedb4e1ad038e13b46797c291321b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8df0255ef9e346f282e90a2ccd16a3c7"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a8df0255ef9e346f282e90a2ccd16a3c7">flag_aquisicao</a> = 0</td></tr>
<tr class="memdesc:a8df0255ef9e346f282e90a2ccd16a3c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag de testes.  <a href="#a8df0255ef9e346f282e90a2ccd16a3c7">More...</a><br /></td></tr>
<tr class="separator:a8df0255ef9e346f282e90a2ccd16a3c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc1b35dd773d0e28c215c580f5a004ab"><td class="memItemLeft" align="right" valign="top">arm_fir_decimate_instance_f32&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#adc1b35dd773d0e28c215c580f5a004ab">S</a></td></tr>
<tr class="memdesc:adc1b35dd773d0e28c215c580f5a004ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Estrutura da biblioteca CMSIS para realização da dizimação.  <a href="#adc1b35dd773d0e28c215c580f5a004ab">More...</a><br /></td></tr>
<tr class="separator:adc1b35dd773d0e28c215c580f5a004ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Aplicação: Sistema de Monitoramento de Consumo de Energia. </p>
<dl class="section author"><dt>Author</dt><dd>André, Bruno, Gustado e Leonador </dd></dl>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a2aab568cd1f02e7cd9fd6c7f87e361d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aab568cd1f02e7cd9fd6c7f87e361d1">&#9670;&nbsp;</a></span>FSM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Estados da máquina de estados da aplicação. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2aab568cd1f02e7cd9fd6c7f87e361d1a13d000b4d7dc70d90239b7430d1eb6b2"></a>START&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2aab568cd1f02e7cd9fd6c7f87e361d1a26471c0ef19d79479a64f916eb17ad9f"></a>AQUISICAO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2aab568cd1f02e7cd9fd6c7f87e361d1a261127ba09281c607786e67a04b7e0cc"></a>PROCESSAMENTO&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2aab568cd1f02e7cd9fd6c7f87e361d1af3a953a997c16620b4af0772c3de8c6b"></a>RMS_CORRENTE&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2aab568cd1f02e7cd9fd6c7f87e361d1a87ad97377c11adaf044d21418c6cd5fc"></a>CALCULOS&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2aab568cd1f02e7cd9fd6c7f87e361d1a826f7fa03272bd9a96356f099b8904dc"></a>DELTA&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2aab568cd1f02e7cd9fd6c7f87e361d1a001479a58fb44c39a29b20d565081a68"></a>ID&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a2aab568cd1f02e7cd9fd6c7f87e361d1ac506d7b7d4682bc09f08a0ecda640d09"></a>ENVIAR&#160;</td><td class="fielddoc"></td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a1730ffe1e560465665eb47d9264826f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1730ffe1e560465665eb47d9264826f9">&#9670;&nbsp;</a></span>Error_Handler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Error_Handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is executed in case of error occurrence. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a85a123185c9bcad9229b17b05c5065e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85a123185c9bcad9229b17b05c5065e6">&#9670;&nbsp;</a></span>HAL_ADC_ConvCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_ADC_ConvCpltCallback </td>
          <td>(</td>
          <td class="paramtype">ADC_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback da interrupção de transferência completa da DMA. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>Handler para ADC. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3dd49835b7027f3f82cd428ab1a2ee68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dd49835b7027f3f82cd428ab1a2ee68">&#9670;&nbsp;</a></span>HAL_ADC_ConvHalfCpltCallback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HAL_ADC_ConvHalfCpltCallback </td>
          <td>(</td>
          <td class="paramtype">ADC_HandleTypeDef *&#160;</td>
          <td class="paramname"><em>hadc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback da interrupção de transferência na metade da DMA. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hadc</td><td>Handler para ADC. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a840291bc02cba5474a4cb46a9b9566fe">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main da aplicação. </p>
<p>Implementa a máquina de estados descrita no relatório 3. </p>

</div>
</div>
<a id="a70af21c671abfcc773614a9a4f63d920"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70af21c671abfcc773614a9a4f63d920">&#9670;&nbsp;</a></span>SystemClock_Config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SystemClock_Config </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configuração de clock. </p>
<p>System Clock Configuration </p>
<p>Configure the main internal regulator output voltage</p>
<p>Initializes the CPU, AHB and APB busses clocks</p>
<p>Initializes the CPU, AHB and APB busses clocks</p>
<p>Configure the Systick interrupt time</p>
<p>Configure the Systick</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a14822268639036ebb7b3297a2838c827"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14822268639036ebb7b3297a2838c827">&#9670;&nbsp;</a></span>BaseDados</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_equipamento.html">Equipamento</a> BaseDados[<a class="el" href="defines_8h.html#ae4b347db921cb574228cda0f65b38c1e">EQUIP_ARRAY_MAX</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Base de dados de <a class="el" href="struct_equipamento.html" title="Estrutura da base de dados de equipamentos. ">Equipamento</a> . </p>

</div>
</div>
<a id="ac1100bf93727b22ddec8a73783fc192b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1100bf93727b22ddec8a73783fc192b">&#9670;&nbsp;</a></span>buffer_corrente_diz</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float32_t buffer_corrente_diz[<a class="el" href="defines_8h.html#a2b573f009cb2ef893aa1c52f267a9f92">BUFFER_DIZ</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer auxiliar de leitura de corrente em ponto flutuante dizimado. </p>

</div>
</div>
<a id="a66c536f645de376969e65e1a4cc348af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66c536f645de376969e65e1a4cc348af">&#9670;&nbsp;</a></span>buffer_corrente_DMA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t buffer_corrente_DMA[2 *<a class="el" href="defines_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer circular de leitura de corrente. Interrupções ocorrem quando está na metade ou cheio. </p>

</div>
</div>
<a id="ae795108dc18e86ae6c35880d0d2129f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae795108dc18e86ae6c35880d0d2129f2">&#9670;&nbsp;</a></span>buffer_corrente_float</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float32_t buffer_corrente_float[<a class="el" href="defines_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer auxiliar de leitura de tensão em ponto flutuante. </p>

</div>
</div>
<a id="ab3b2be33f9da9351cb2057d68de153fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3b2be33f9da9351cb2057d68de153fe">&#9670;&nbsp;</a></span>buffer_corrente_leitura</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t buffer_corrente_leitura[<a class="el" href="defines_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer auxiliar de leitura de corrente. </p>

</div>
</div>
<a id="ae8bc44ca7285cfaeb25ac6db810fff76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8bc44ca7285cfaeb25ac6db810fff76">&#9670;&nbsp;</a></span>buffer_tensao_diz</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float32_t buffer_tensao_diz[<a class="el" href="defines_8h.html#a2b573f009cb2ef893aa1c52f267a9f92">BUFFER_DIZ</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer auxiliar de leitura de tensão em ponto flutuante dizimado. </p>

</div>
</div>
<a id="ae0bd3693d278e0e91c91c9deab7decde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0bd3693d278e0e91c91c9deab7decde">&#9670;&nbsp;</a></span>buffer_tensao_DMA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t buffer_tensao_DMA[2 *<a class="el" href="defines_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer circular de leitura de tensão. Interrupções ocorrem quando está na metade ou cheio. </p>

</div>
</div>
<a id="aea416c949294bb0aaaaa1de31a9d282b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea416c949294bb0aaaaa1de31a9d282b">&#9670;&nbsp;</a></span>buffer_tensao_float</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float32_t buffer_tensao_float[<a class="el" href="defines_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer auxiliar de leitura de corrente em ponto flutuante. </p>

</div>
</div>
<a id="a3f2d123d5161b69d188891e189cb0d06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f2d123d5161b69d188891e189cb0d06">&#9670;&nbsp;</a></span>buffer_tensao_leitura</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t buffer_tensao_leitura[<a class="el" href="defines_8h.html#a6b20d41d6252e9871430c242cb1a56e7">BUFFER_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Buffer auxiliar de leitura de tensão. </p>

</div>
</div>
<a id="a86988a65e0d3ece7990c032c159786d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86988a65e0d3ece7990c032c159786d6">&#9670;&nbsp;</a></span>count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t count = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variável de testes. </p>

</div>
</div>
<a id="afa51f70dca16f13f73bfb053d1d713ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa51f70dca16f13f73bfb053d1d713ac">&#9670;&nbsp;</a></span>estado</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1">FSM</a>
 estado = <a class="el" href="main_8c.html#a2aab568cd1f02e7cd9fd6c7f87e361d1a13d000b4d7dc70d90239b7430d1eb6b2">START</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8df0255ef9e346f282e90a2ccd16a3c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8df0255ef9e346f282e90a2ccd16a3c7">&#9670;&nbsp;</a></span>flag_aquisicao</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t flag_aquisicao = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag de testes. </p>

</div>
</div>
<a id="a4fce74aa11ad6edf39692f7802424198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fce74aa11ad6edf39692f7802424198">&#9670;&nbsp;</a></span>flag_buffercheio</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t flag_buffercheio = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag de controle. Ativada quando ocorre interrupção de buffer cheio. </p>

</div>
</div>
<a id="afcedb4e1ad038e13b46797c291321b99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcedb4e1ad038e13b46797c291321b99">&#9670;&nbsp;</a></span>flag_buffermetade</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t flag_buffermetade = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flag de controle. Ativada quando ocorre interrupção de buffer na metade. </p>

</div>
</div>
<a id="ad97705844552c36fbf67ba9e1151326e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad97705844552c36fbf67ba9e1151326e">&#9670;&nbsp;</a></span>memoria</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct_medicao.html">Medicao</a> memoria[<a class="el" href="defines_8h.html#a2dcf8c45f945dd0c4301a94700f2112c">MEM_SIZE</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Vetor de <a class="el" href="struct_medicao.html" title="Estrutura armazenada na memória com histórico de medições e equipamentos. ">Medicao</a> . Contém histórico de medições. </p>

</div>
</div>
<a id="a1044ab438ad66f501a4113c988ac8916"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1044ab438ad66f501a4113c988ac8916">&#9670;&nbsp;</a></span>memoria_index</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t memoria_index = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Índice do histórico de medições. </p>

</div>
</div>
<a id="adc1b35dd773d0e28c215c580f5a004ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc1b35dd773d0e28c215c580f5a004ab">&#9670;&nbsp;</a></span>S</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">arm_fir_decimate_instance_f32 S</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Estrutura da biblioteca CMSIS para realização da dizimação. </p>

</div>
</div>
<a id="a450ef58d7aeb2236ace692f890f847f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a450ef58d7aeb2236ace692f890f847f3">&#9670;&nbsp;</a></span>tic</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t tic</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variável de testes. </p>

</div>
</div>
<a id="a56bc1c9e6afacc7063d43b5d9954a24e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56bc1c9e6afacc7063d43b5d9954a24e">&#9670;&nbsp;</a></span>toc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t toc</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_413f4e031a85da0d68269c6fd2f76e1c.html">Src</a></li><li class="navelem"><a class="el" href="main_8c.html">main.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
